AC_LANG_CPLUSPLUS

AC_SEARCH_LIBS([dlopen], [dl dld], [], [
  AC_MSG_ERROR([unable to find the dlopen() function])
])

AC_CHECK_LIB(pthread, pthread_create, [], [AC_MSG_ERROR([libpthread is required])])

AC_ARG_ENABLE([zjv-device], AS_HELP_STRING([--enable-zjv-device], [Enable ZJV device extension]))
AS_IF([test "x$enable_zjv_device" = "xyes"], [
  AC_DEFINE([ZJV_DEVICE_EXTENSION],,[Enable ZJV device extension])
  AC_SUBST([enable_zjv_device], [yes], [Enable ZJV device extension])
])
